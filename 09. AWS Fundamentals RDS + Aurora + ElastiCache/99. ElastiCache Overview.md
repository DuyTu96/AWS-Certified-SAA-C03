## â˜ï¸ **Amazon ElastiCache lÃ  gÃ¬?**

* Giá»‘ng nhÆ° **Amazon RDS** cung cáº¥p **relational database Ä‘Æ°á»£c quáº£n lÃ½**, thÃ¬ **Amazon ElastiCache** cung cáº¥p **Redis** hoáº·c **Memcached** â€” lÃ  **cÃ¡c cÃ´ng nghá»‡ cache** Ä‘Æ°á»£c quáº£n lÃ½ hoÃ n toÃ n.
* Cache lÃ  **in-memory database**, giÃºp truy xuáº¥t dá»¯ liá»‡u **ráº¥t nhanh**, **low latency** vÃ  **hiá»‡u nÄƒng cao**.

---

## ğŸ” **Lá»£i Ã­ch cá»§a ElastiCache**

* **Giáº£m táº£i** cho database, Ä‘áº·c biá»‡t vá»›i cÃ¡c **read-intensive workload** (nhiá»u truy váº¥n Ä‘á»c).
* CÃ¡c **query phá»• biáº¿n** sáº½ Ä‘Æ°á»£c lÆ°u trong cache â†’ á»©ng dá»¥ng chá»‰ cáº§n truy xuáº¥t cache thay vÃ¬ gá»i DB má»—i láº§n.
* Há»— trá»£ **lÃ m stateless** á»©ng dá»¥ng báº±ng cÃ¡ch lÆ°u tráº¡ng thÃ¡i (state/session) ngÆ°á»i dÃ¹ng vÃ o cache.
* AWS sáº½ tá»± quáº£n lÃ½ cÃ¡c cÃ´ng viá»‡c nhÆ°: **OS maintenance**, **patching**, **monitoring**, **backup**, **tá»‘i Æ°u hÃ³a**,...

---

## ğŸ› ï¸ **Triá»ƒn khai vÃ  thay Ä‘á»•i code**

* **Cáº§n thay Ä‘á»•i code á»©ng dá»¥ng** Ä‘á»ƒ lÃ m viá»‡c vá»›i ElastiCache.

  * á»¨ng dá»¥ng cáº§n kiá»ƒm tra cache trÆ°á»›c khi gá»i database (hoáº·c sau khi gá»i).
  * ÄÃ¢y khÃ´ng pháº£i lÃ  tÃ­nh nÄƒng tá»± Ä‘á»™ng báº­t.

---

## ğŸ§± **Kiáº¿n trÃºc sá»­ dá»¥ng ElastiCache**

### 1. **Caching queries**

* á»¨ng dá»¥ng â†’ truy váº¥n **ElastiCache**:

  * Náº¿u cÃ³ dá»¯ liá»‡u â†’ **cache hit** â†’ tráº£ káº¿t quáº£ nhanh.
  * Náº¿u khÃ´ng cÃ³ dá»¯ liá»‡u â†’ **cache miss** â†’ gá»i Ä‘áº¿n RDS â†’ lÆ°u káº¿t quáº£ vÃ o cache Ä‘á»ƒ láº§n sau dÃ¹ng.

â¡ï¸ GiÃºp **giáº£m lÆ°á»£ng truy váº¥n trá»±c tiáº¿p Ä‘áº¿n RDS**.

> âš ï¸ Cáº§n cÃ³ **cache invalidation strategy** Ä‘á»ƒ Ä‘áº£m báº£o dá»¯ liá»‡u cache khÃ´ng bá»‹ lá»—i thá»i.

---

### 2. **LÆ°u trá»¯ user session (Stateless app)**

* Khi ngÆ°á»i dÃ¹ng login, session sáº½ Ä‘Æ°á»£c ghi vÃ o **Amazon ElastiCache**.
* Náº¿u user chuyá»ƒn sang má»™t instance khÃ¡c cá»§a app, app cÃ³ thá»ƒ láº¥y láº¡i session tá»« cache.
* KhÃ´ng cáº§n user login láº¡i â†’ **stateless architecture**.

---

## ğŸ” **So sÃ¡nh Redis vÃ  Memcached**

| TÃ­nh nÄƒng         | **Redis**                                            | **Memcached**                                        |
| ----------------- | ---------------------------------------------------- | ---------------------------------------------------- |
| High Availability | âœ… **Multi-AZ, Auto-failover**                        | âŒ KhÃ´ng há»— trá»£                                       |
| Read Replicas     | âœ… CÃ³                                                 | âŒ KhÃ´ng cÃ³                                           |
| Data Durability   | âœ… CÃ³ (AOF Persistence, Backup/Restore)               | âŒ Chá»‰ cÃ³ á»Ÿ báº£n **serverless**, khÃ´ng cÃ³ á»Ÿ báº£n thÆ°á»ng |
| Data Structure    | âœ… Há»— trá»£ **sets**, **sorted sets** (táº¡o leaderboard) | âŒ KhÃ´ng há»— trá»£ phá»©c táº¡p                              |
| Replication       | âœ… CÃ³                                                 | âŒ KhÃ´ng cÃ³                                           |
| Architecture      | **Replica node**                                     | **Sharding / Partitioning**                          |
| Multi-thread      | âŒ KhÃ´ng Ä‘a luá»“ng                                     | âœ… CÃ³ Ä‘a luá»“ng                                        |

> Redis: phÃ¹ há»£p vá»›i **á»©ng dá»¥ng cáº§n HA, durability, nÃ¢ng cao**
> Memcached: phÃ¹ há»£p vá»›i **á»©ng dá»¥ng Ä‘Æ¡n giáº£n, cáº§n tá»‘c Ä‘á»™ cao, khÃ´ng yÃªu cáº§u durability**

---

## ğŸ“Œ Ghi nhá»› khi Ä‘i thi

* CÃ³ thá»ƒ khÃ´ng bá»‹ há»i trá»±c tiáº¿p vá» viá»‡c chá»n Redis hay Memcached, nhÆ°ng **hiá»ƒu sá»± khÃ¡c biá»‡t giÃºp chá»n Ä‘Ãºng giáº£i phÃ¡p cho use case**.
* **ElastiCache** giÃºp giáº£m táº£i cho RDS vÃ  há»— trá»£ kiáº¿n trÃºc **stateless**.
* DÃ¹ng **Redis** khi cáº§n **read replica**, **durability**, hoáº·c cáº¥u trÃºc dá»¯ liá»‡u nÃ¢ng cao.
* DÃ¹ng **Memcached** khi chá»‰ cáº§n cache Ä‘Æ¡n giáº£n, khÃ´ng cáº§n HA hoáº·c backup.

---
