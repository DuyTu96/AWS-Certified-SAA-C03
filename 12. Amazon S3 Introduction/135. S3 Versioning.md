## ğŸ”„ **Versioning trong Amazon S3**

### ğŸ¯ Má»¥c Ä‘Ã­ch:

Khi báº¡n Ä‘Ã£ táº¡o má»™t **S3 static website**, viá»‡c **quáº£n lÃ½ phiÃªn báº£n (versioning)** sáº½ giÃºp báº¡n cáº­p nháº­t ná»™i dung má»™t cÃ¡ch **an toÃ n** vÃ  **cÃ³ thá»ƒ khÃ´i phá»¥c** khi cáº§n.

---

### âœ… KhÃ¡i niá»‡m Versioning

* **Versioning** lÃ  má»™t tÃ­nh nÄƒng Ä‘Æ°á»£c **báº­t á»Ÿ cáº¥p Ä‘á»™ bucket** (bucket-level).
* Khi **versioning Ä‘Æ°á»£c báº­t**:

  * Má»—i khi ngÆ°á»i dÃ¹ng upload má»™t file vá»›i cÃ¹ng má»™t **key** (tÃªn file), S3 sáº½:

    * KhÃ´ng ghi Ä‘Ã¨.
    * Thay vÃ o Ä‘Ã³ táº¡o má»™t **version má»›i**: version 1, version 2, version 3, v.v...

---

### âœ… Lá»£i Ã­ch cá»§a Versioning

1. **Báº£o vá»‡ trÆ°á»›c cÃ¡c xÃ³a nháº§m (unintended deletes)**:

   * Khi báº¡n xÃ³a má»™t object, S3 **khÃ´ng xÃ³a tháº­t sá»±**, mÃ  chá»‰ **thÃªm delete marker**.
   * Do Ä‘Ã³ báº¡n cÃ³ thá»ƒ **khÃ´i phá»¥c láº¡i cÃ¡c version cÅ©** dá»… dÃ ng.

2. **Dá»… dÃ ng rollback (quay vá» phiÃªn báº£n trÆ°á»›c)**:

   * VÃ­ dá»¥ báº¡n cáº§n khÃ´i phá»¥c file cá»§a 2 ngÃ y trÆ°á»›c â†’ chá»‰ cáº§n chá»n version cÅ© Ä‘á»ƒ phá»¥c há»“i.

---

### âš ï¸ LÆ°u Ã½ quan trá»ng

* Nhá»¯ng file **Ä‘Æ°á»£c upload trÆ°á»›c khi báº­t versioning** sáº½ cÃ³ **version lÃ  `null`**.
* Náº¿u báº¡n **suspend (táº¡m dá»«ng) versioning**, thÃ¬:

  * CÃ¡c phiÃªn báº£n cÅ© **khÃ´ng bá»‹ xÃ³a**.
  * ÄÃ¢y lÃ  má»™t thao tÃ¡c **an toÃ n**, cÃ³ thá»ƒ báº­t láº¡i báº¥t cá»© lÃºc nÃ o.

---

### ğŸ“Œ Tá»•ng káº¿t

* **Best practice**: LuÃ´n báº­t **versioning cho bucket** náº¿u báº¡n cáº§n báº£o vá»‡ dá»¯ liá»‡u hoáº·c duy trÃ¬ cÃ¡c phiÃªn báº£n cá»§a ná»™i dung website.
* Viá»‡c báº­t versioning giÃºp báº¡n:

  * An tÃ¢m khi cáº­p nháº­t file má»›i.
  * Dá»… dÃ ng khÃ´i phá»¥c file cÅ© náº¿u cÃ³ sá»± cá»‘.
  * TrÃ¡nh máº¥t mÃ¡t dá»¯ liá»‡u ngoÃ i Ã½ muá»‘n.

---
