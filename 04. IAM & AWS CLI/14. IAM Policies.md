### Tá»•ng há»£p ná»™i dung vá» **IAM Policies** trong AWS (giá»¯ nguyÃªn keywork)

#### 1. **IAM Policy vÃ  cÃ¡ch Ã¡p dá»¥ng**

* Khi báº¡n **gáº¯n policy** cho má»™t **group**, thÃ¬ **má»i user trong group Ä‘Ã³ sáº½ káº¿ thá»«a policy nÃ y**.

  * VÃ­ dá»¥: NhÃ³m **Developers** gá»“m Alice, Bob, Charles â†’ náº¿u gáº¯n policy vÃ o nhÃ³m, cáº£ 3 ngÆ°á»i Ä‘á»u cÃ³ quyá»n nhÆ° nhau.
* Má»™t user cÃ³ thá»ƒ:

  * Thuá»™c **nhiá»u group** â†’ sáº½ **káº¿ thá»«a táº¥t cáº£ cÃ¡c policy** tá»« cÃ¡c group Ä‘Ã³.

    * VÃ­ dá»¥: Charles thuá»™c cáº£ Developers vÃ  Audit â†’ káº¿ thá»«a cáº£ 2 policy.
  * **KhÃ´ng thuá»™c group nÃ o** vÃ  chá»‰ cÃ³ **inline policy** (policy gáº¯n trá»±c tiáº¿p cho user).

    * VÃ­ dá»¥: Fred cÃ³ thá»ƒ chá»‰ cÃ³ inline policy.

#### 2. **Cáº¥u trÃºc IAM Policy**

Policy cÃ³ cáº¥u trÃºc dáº¡ng **JSON**, gá»“m cÃ¡c pháº§n:

| ThÃ nh pháº§n    | Giáº£i thÃ­ch                                                     |
| ------------- | -------------------------------------------------------------- |
| **Version**   | PhiÃªn báº£n ngÃ´n ngá»¯ policy (thÆ°á»ng lÃ  `"2012-10-17"`)           |
| **Id**        | TÃ¹y chá»n, Ä‘á»ƒ xÃ¡c Ä‘á»‹nh policy                                   |
| **Statement** | ThÃ nh pháº§n quan trá»ng nháº¥t, cÃ³ thá»ƒ chá»©a 1 hoáº·c nhiá»u khá»‘i lá»‡nh |

Má»™t **Statement** gá»“m cÃ¡c pháº§n:

* **Sid**: Statement ID (tuá»³ chá»n)
* **Effect**: `"Allow"` hoáº·c `"Deny"` â€“ chá»‰ Ä‘á»‹nh hÃ nh vi cho phÃ©p hay tá»« chá»‘i
* **Principal**: Äá»‘i tÆ°á»£ng mÃ  policy Ã¡p dá»¥ng (user, account, role)
* **Action**: Danh sÃ¡ch cÃ¡c hÃ nh Ä‘á»™ng (API call) Ä‘Æ°á»£c phÃ©p hoáº·c bá»‹ tá»« chá»‘i
* **Resource**: TÃ i nguyÃªn mÃ  hÃ nh Ä‘á»™ng Ä‘Æ°á»£c Ã¡p dá»¥ng (vÃ­ dá»¥: S3 bucket)
* **Condition** *(tuá»³ chá»n)*: Äiá»u kiá»‡n cá»¥ thá»ƒ khi nÃ o policy nÃ y Ä‘Æ°á»£c Ã¡p dá»¥ng

#### 3. **Äiá»u cáº§n ghi nhá»›**

* Trong ká»³ thi, cáº§n hiá»ƒu rÃµ:

  * **Effect**
  * **Principal**
  * **Action**
  * **Resource**
* Nhá»¯ng khÃ¡i niá»‡m nÃ y sáº½ thÆ°á»ng xuyÃªn Ä‘Æ°á»£c gáº·p láº¡i vÃ  luyá»‡n táº­p trong quÃ¡ trÃ¬nh há»c.

---

DÆ°á»›i Ä‘Ã¢y lÃ  **má»™t vÃ­ dá»¥ minh há»a Ä‘áº§y Ä‘á»§** cho **IAM Policy**, bao gá»“m táº¥t cáº£ cÃ¡c pháº§n quan trá»ng:

---

### ğŸ§¾ **IAM Policy máº«u (JSON)**

```json
{
  "Version": "2012-10-17",
  "Id": "ExamplePolicy01",
  "Statement": [
    {
      "Sid": "AllowS3ReadOnly",
      "Effect": "Allow",
      "Principal": {
        "AWS": "arn:aws:iam::123456789012:user/ExampleUser"
      },
      "Action": [
        "s3:GetObject",
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::example-bucket",
        "arn:aws:s3:::example-bucket/*"
      ],
      "Condition": {
        "IpAddress": {
          "aws:SourceIp": "203.0.113.0/24"
        }
      }
    }
  ]
}
```

---

### ğŸ§© **Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n**

| ThÃ nh pháº§n  | Ã nghÄ©a                                                            |
| ----------- | ------------------------------------------------------------------ |
| `Version`   | PhiÃªn báº£n policy â€“ háº§u nhÆ° luÃ´n lÃ  `"2012-10-17"`                  |
| `Id`        | ID cá»§a policy (tuá»³ chá»n)                                           |
| `Statement` | Má»™t máº£ng cÃ¡c chÃ­nh sÃ¡ch (á»Ÿ Ä‘Ã¢y chá»‰ cÃ³ 1)                           |
| `Sid`       | TÃªn Ä‘á»‹nh danh riÃªng cho statement: `AllowS3ReadOnly`               |
| `Effect`    | `"Allow"` â€“ Cho phÃ©p hÃ nh Ä‘á»™ng Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a                     |
| `Principal` | IAM user cá»¥ thá»ƒ Ä‘Æ°á»£c Ã¡p dá»¥ng: `ExampleUser`                        |
| `Action`    | CÃ¡c hÃ nh Ä‘á»™ng Ä‘Æ°á»£c phÃ©p thá»±c hiá»‡n: `s3:GetObject`, `s3:ListBucket` |
| `Resource`  | Bucket cá»¥ thá»ƒ: `example-bucket` vÃ  toÃ n bá»™ Ä‘á»‘i tÆ°á»£ng trong bucket  |
| `Condition` | Chá»‰ Ã¡p dá»¥ng náº¿u request Ä‘áº¿n tá»« IP trong dáº£i `203.0.113.0/24`       |

---

### ğŸ’¡ Káº¿t luáº­n

Policy nÃ y **cho phÃ©p user "ExampleUser"** chá»‰ Ä‘Æ°á»£c **Ä‘á»c (read-only)** tá»« bucket `example-bucket`, **chá»‰ khi request Ä‘áº¿n tá»« má»™t IP cá»¥ thá»ƒ**.
