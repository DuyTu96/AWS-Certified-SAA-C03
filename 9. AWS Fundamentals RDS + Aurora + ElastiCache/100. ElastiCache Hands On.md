## ğŸ§ª **Thá»±c hÃ nh vá»›i Amazon ElastiCache (Redis)**

ChÃºng ta sáº½ **táº¡o má»™t Redis cache** báº±ng **Amazon ElastiCache** (cÅ©ng cÃ³ thá»ƒ chá»n **Memcached**, nhÆ°ng á»Ÿ Ä‘Ã¢y chá»n Redis).

---

## ğŸ› ï¸ **Lá»±a chá»n cÃ¡ch táº¡o Redis Cache**

CÃ³ 2 cÃ¡ch:

1. **Serverless offering**:

   * Tá»± Ä‘á»™ng scale theo lÆ°á»£ng traffic á»©ng dá»¥ng.
   * KhÃ´ng cáº§n quáº£n lÃ½ server.
   * **Chi phÃ­ cao** nhÆ°ng **dá»… quáº£n lÃ½**.
2. **Design your own cache**:

   * Tá»± cáº¥u hÃ¬nh tá»«ng pháº§n â†’ **hiá»ƒu kiáº¿n trÃºc rÃµ rÃ ng hÆ¡n**.

---

## ğŸ”§ **Cáº¥u hÃ¬nh ElastiCache Redis thá»§ cÃ´ng**

* CÃ³ thá»ƒ:

  * **KhÃ´i phá»¥c tá»« backup**.
  * Hoáº·c dÃ¹ng **Easy Create** vá»›i cÃ¡c thiáº¿t láº­p sáºµn nhÆ°: `Production`, `Dev/Test`, `Demo`.

Chá»n cÃ¡ch **cáº¥u hÃ¬nh thá»§ cÃ´ng** Ä‘á»ƒ tháº¥y háº¿t cÃ¡c tÃ¹y chá»n.

---

### âš™ï¸ Cluster Mode

* **Cluster Mode: Disabled**

  * CÃ³ **1 shard**, gá»“m **1 primary node** vÃ  **tá»‘i Ä‘a 5 read replica**.
* Náº¿u muá»‘n cÃ³ **nhiá»u shard trÃªn nhiá»u server** â†’ cáº§n **Cluster Mode: Enabled**.

â†’ á» Ä‘Ã¢y **táº¯t Cluster Mode**.

---

### ğŸ·ï¸ Má»™t sá»‘ thiáº¿t láº­p khÃ¡c

* **Cluster Name**: `DemoCluster`.
* **Location**: Cháº¡y trÃªn **AWS Cloud**.

  * Hoáº·c cÃ³ thá»ƒ cháº¡y **on-premises** vá»›i **AWS Outpost**.
* **Multi-AZ**:

  * Táº¯t (Ä‘á»ƒ tiáº¿t kiá»‡m chi phÃ­).
  * Náº¿u báº­t thÃ¬ cÃ³ **Auto failover** (tá»± Ä‘á»™ng chuyá»ƒn vÃ¹ng náº¿u node chÃ­nh gáº·p sá»± cá»‘).

---

### ğŸ“Œ Cáº¥u hÃ¬nh pháº§n cá»©ng & máº¡ng

* **Node Type**: `t2.micro`, `t3.micro`, hoáº·c `t4g.micro`.

  * `t2.micro`, `t3.micro` thuá»™c **Free Tier**.
* **Replicas**: 0 (giáº£m chi phÃ­).
* **Subnet Group**: táº¡o **subnet group** Ä‘áº§u tiÃªn Ä‘á»ƒ chá»‰ rÃµ cÃ¡c subnet mÃ  cache sáº½ cháº¡y.
* **VPC & Subnet**: chá»n thá»§ cÃ´ng hoáº·c Ä‘á»ƒ AWS tá»± chá»n.
* **AZ Placement**: khÃ´ng quan trá»ng náº¿u khÃ´ng báº­t Multi-AZ.

---

### ğŸ” Encryption & Access Control

* **Encryption at rest**: cÃ³ thá»ƒ báº­t náº¿u cáº§n báº£o máº­t dá»¯ liá»‡u lÆ°u trá»¯.

* **Encryption in transit**: mÃ£ hÃ³a dá»¯ liá»‡u trong quÃ¡ trÃ¬nh truyá»n giá»¯a client vÃ  Redis.

  * Náº¿u báº­t, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng:

    * **Redis AUTH** (dÃ¹ng password vÃ  auth token).
    * **User Group ACL** (danh sÃ¡ch kiá»ƒm soÃ¡t ngÆ°á»i dÃ¹ng).
  * á» Ä‘Ã¢y **táº¯t encryption in transit**.

* **Security Group**: cáº¥u hÃ¬nh Ä‘á»ƒ chá»‰ cho phÃ©p má»™t sá»‘ á»©ng dá»¥ng nháº¥t Ä‘á»‹nh truy cáº­p cluster.

---

### ğŸ“¦ Backup, Logs, Maintenance

* **Backup**: cÃ³ thá»ƒ báº­t náº¿u muá»‘n sao lÆ°u Redis.
* **Maintenance Window**: xÃ¡c Ä‘á»‹nh khoáº£ng thá»i gian báº£o trÃ¬, nÃ¢ng cáº¥p version nhá».
* **CloudWatch Logs**: cÃ³ thá»ƒ ghi log (slow log, engine log).
* **Tags**: gáº¯n nhÃ£n tÃ i nguyÃªn Ä‘á»ƒ dá»… quáº£n lÃ½.

---

## âœ… **Táº¡o Redis Cluster**

* Xem láº¡i táº¥t cáº£ thiáº¿t láº­p.
* Nháº¥n **Create** Ä‘á»ƒ táº¡o ElastiCache Redis Cluster.
* Sau khi táº¡o xong:

  * Sá»­ dá»¥ng **Primary Endpoint** Ä‘á»ƒ truy cáº­p dá»¯ liá»‡u (náº¿u cÃ³ read replica thÃ¬ dÃ¹ng reader endpoint).
  * KhÃ´ng cÃ³ cÃ¡ch Ä‘Æ¡n giáº£n Ä‘á»ƒ demo káº¿t ná»‘i Redis tá»« giao diá»‡n AWS Console â€” cáº§n **viáº¿t code**.

---

## ğŸ§¹ **XÃ³a Redis Cluster**

* Chá»n **Actions > Delete**.
* Chá»n cÃ³ cáº§n backup khÃ´ng â†’ KhÃ´ng.
* GÃµ tÃªn cluster Ä‘á»ƒ xÃ¡c nháº­n â†’ XÃ³a.

---

## ğŸ“Œ TÃ³m táº¯t

* ElastiCache **ráº¥t giá»‘ng RDS** vá» giao diá»‡n vÃ  thao tÃ¡c.
* Cung cáº¥p kháº£ nÄƒng caching vá»›i **Redis** hoáº·c **Memcached**.
* Dá»… dÃ ng tÃ­ch há»£p vá»›i cÃ¡c á»©ng dá»¥ng, nhÆ°ng **pháº£i tá»± viáº¿t code** Ä‘á»ƒ sá»­ dá»¥ng Redis.

---
