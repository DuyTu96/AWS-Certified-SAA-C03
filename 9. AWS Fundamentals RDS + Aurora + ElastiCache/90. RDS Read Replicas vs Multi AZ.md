## ğŸ§  **PhÃ¢n biá»‡t RDS Read Replicas vÃ  Multi AZ**

### **1. RDS Read Replicas**

#### âœ… **Má»¥c Ä‘Ã­ch chÃ­nh**:

* **TÄƒng kháº£ nÄƒng Ä‘á»c (scale reads)** cho á»©ng dá»¥ng.
* Há»¯u Ã­ch khi **database chÃ­nh bá»‹ quÃ¡ táº£i do lÆ°á»£ng Ä‘á»c lá»›n**.

#### âœ… **Äáº·c Ä‘iá»ƒm ká»¹ thuáº­t**:

* Tá»‘i Ä‘a **15 Read Replicas** cho má»—i RDS instance.
* CÃ³ thá»ƒ Ä‘Æ°á»£c triá»ƒn khai:

  * **CÃ¹ng Availability Zone (AZ)**
  * **KhÃ¡c AZ**
  * **KhÃ¡c Region**

#### âœ… **CÆ¡ cháº¿ Ä‘á»“ng bá»™**:

* **Asynchronous replication** (Ä‘á»“ng bá»™ khÃ´ng tá»©c thá»i).

  * â†’ Dá»¯ liá»‡u **eventually consistent**.
  * â†’ CÃ³ thá»ƒ Ä‘á»c dá»¯ liá»‡u cÅ© náº¿u replica chÆ°a cáº­p nháº­t ká»‹p.

#### âœ… **Sá»­ dá»¥ng thá»±c táº¿**:

* VÃ­ dá»¥: á»¨ng dá»¥ng **reporting** cáº§n cháº¡y analytics â†’ khÃ´ng nÃªn cháº¡y trá»±c tiáº¿p trÃªn DB chÃ­nh.
* Táº¡o **Read Replica** vÃ  cháº¡y report trÃªn Ä‘Ã³ â†’ khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n á»©ng dá»¥ng sáº£n xuáº¥t.

#### âœ… **LÆ°u Ã½ quan trá»ng**:

* **Chá»‰ dÃ¹ng cho cÃ¢u lá»‡nh SELECT**.

  * KhÃ´ng Ä‘Æ°á»£c dÃ¹ng **INSERT, UPDATE, DELETE**.
* CÃ³ thá»ƒ **promote** thÃ nh DB Ä‘á»™c láº­p (nháº­n ghi).
* á»¨ng dá»¥ng cáº§n **cáº­p nháº­t connection string** Ä‘á»ƒ truy cáº­p Read Replicas.

#### âœ… **Chi phÃ­ máº¡ng (Networking Cost)**:

* **Miá»…n phÃ­ replication giá»¯a cÃ¡c AZ trong cÃ¹ng má»™t Region**.
* **TÃ­nh phÃ­ replication giá»¯a cÃ¡c Region khÃ¡c nhau**.

---

### **2. RDS Multi AZ**

#### âœ… **Má»¥c Ä‘Ã­ch chÃ­nh**:

* DÃ¹ng cho **Disaster Recovery** (phá»¥c há»“i sau tháº£m há»a).
* **TÄƒng tÃ­nh sáºµn sÃ ng (High Availability)**.

#### âœ… **CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng**:

* CÃ³ **Master DB** á»Ÿ AZ A.
* CÃ³ **Standby DB** á»Ÿ AZ B vá»›i **synchronous replication**.

  * Ghi dá»¯ liá»‡u vÃ o Master thÃ¬ Ä‘á»“ng thá»i cáº­p nháº­t Standby.
* Náº¿u **Master gáº·p sá»± cá»‘**, sáº½ **tá»± Ä‘á»™ng failover** sang Standby.

#### âœ… **LÆ°u Ã½ ká»¹ thuáº­t**:

* á»¨ng dá»¥ng chá»‰ cáº§n **káº¿t ná»‘i thÃ´ng qua 1 DNS Name** duy nháº¥t.
* **KhÃ´ng dÃ¹ng Ä‘á»ƒ scale** (khÃ´ng Ä‘á»c/ghi Ä‘Æ°á»£c vÃ o Standby).
* KhÃ´ng cáº§n **can thiá»‡p thá»§ cÃ´ng khi failover** xáº£y ra.

---

### **3. CÃ¡c Ä‘iá»ƒm cáº§n nhá»› cho ká»³ thi**:

* âœ… CÃ³ thá»ƒ **thiáº¿t láº­p Read Replica thÃ nh Multi AZ** Ä‘á»ƒ tÄƒng Ä‘á»™ bá»n.
* âœ… Chuyá»ƒn tá»« **Single AZ â†’ Multi AZ** lÃ  **zero downtime**:

  * Chá»‰ cáº§n **Modify** database vÃ  báº­t Multi AZ.
  * Ná»™i bá»™ AWS sáº½:

    1. Táº¡o **snapshot**.
    2. KhÃ´i phá»¥c thÃ nh Standby DB.
    3. Thiáº¿t láº­p **synchronous replication**.

---

### ğŸ“ **TÃ³m láº¡i**:

| Äáº·c Ä‘iá»ƒm           | Read Replica        | Multi AZ                  |
| ------------------ | ------------------- | ------------------------- |
| Má»¥c Ä‘Ã­ch chÃ­nh     | Scale reads         | High availability / DR    |
| Replication        | Asynchronous        | Synchronous               |
| CÃ³ thá»ƒ Ä‘á»c dá»¯ liá»‡u | âœ… (SELECT only)     | âŒ (chá»‰ dÃ nh cho failover) |
| CÃ³ thá»ƒ ghi dá»¯ liá»‡u | âŒ (chá»‰ khi promote) | âŒ                         |
| Tá»± Ä‘á»™ng failover   | âŒ (chá»‰ Multi AZ)    | âœ…                         |
| DÃ¹ng cho Analytics | âœ…                   | âŒ                         |

---
