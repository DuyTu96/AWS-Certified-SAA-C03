### Tá»•ng há»£p kiáº¿n thá»©c: **HÃ nh vi cá»§a IP trong AWS EC2 vÃ  cÃ¡ch sá»­ dá»¥ng Elastic IP**

#### 1. **Truy cáº­p vÃ o EC2 Instance thÃ´ng qua IP**

* Má»—i EC2 instance trong AWS cÃ³:

  * **Public IPv4**: DÃ¹ng Ä‘á»ƒ SSH tá»« Internet vÃ o mÃ¡y.
  * **Private IPv4**: Chá»‰ dÃ¹ng Ä‘á»ƒ giao tiáº¿p **ná»™i bá»™ trong AWS VPC (Virtual Private Cloud)**.
* Khi báº¡n **SSH vÃ o EC2**, báº¡n pháº£i dÃ¹ng **Public IP** trá»« khi báº¡n Ä‘ang trong cÃ¹ng VPC hoáº·c cÃ³ thiáº¿t láº­p **VPN** Ä‘áº¿n AWS.

#### 2. **Táº¡i sao khÃ´ng thá»ƒ SSH báº±ng Private IP?**

* VÃ¬ private IP chá»‰ hoáº¡t Ä‘á»™ng trong máº¡ng ná»™i bá»™ (private network).
* MÃ¡y tÃ­nh cá»§a báº¡n náº±m **ngoÃ i máº¡ng ná»™i bá»™ cá»§a AWS**, nÃªn khÃ´ng thá»ƒ káº¿t ná»‘i trá»±c tiáº¿p qua private IP.

#### 3. **HÃ nh vi cá»§a Public IP khi dá»«ng/khá»Ÿi Ä‘á»™ng láº¡i Instance**

* Náº¿u báº¡n **dá»«ng vÃ  khá»Ÿi Ä‘á»™ng láº¡i** instance:

  * AWS sáº½ **cáº¥p má»™t public IP má»›i**.
  * IP cÅ© khÃ´ng cÃ²n hiá»‡u lá»±c => báº¡n khÃ´ng thá»ƒ SSH vÃ o báº±ng IP cÅ© ná»¯a.
* NhÆ°ng **Private IP váº«n giá»¯ nguyÃªn** vÃ¬ nÃ³ lÃ  Ä‘á»‹a chá»‰ ná»™i bá»™ cá»§a VPC.

#### 4. **Elastic IP â€“ CÃ¡ch giá»¯ nguyÃªn Ä‘á»‹a chá»‰ IP**

* Elastic IP lÃ  má»™t **Public IPv4 cá»‘ Ä‘á»‹nh**, Ä‘Æ°á»£c gáº¯n vá»›i má»™t instance.
* Khi instance **dá»«ng vÃ  khá»Ÿi Ä‘á»™ng láº¡i**, **Elastic IP khÃ´ng thay Ä‘á»•i**.
* Báº¡n cÃ³ thá»ƒ gá»¡ (disassociate) hoáº·c chuyá»ƒn Elastic IP tá»« instance nÃ y sang instance khÃ¡c náº¿u cáº§n.

#### 5. **CÃ¡ch táº¡o vÃ  gáº¯n Elastic IP**

1. VÃ o **Elastic IPs** trong AWS Console.
2. **Allocate** má»™t IP má»›i tá»« Amazon pool.
3. **Associate** nÃ³ vá»›i instance cá»§a báº¡n (chá»n instance vÃ  private IP).
4. Sau khi gáº¯n, instance sáº½ sá»­ dá»¥ng Elastic IP lÃ m public IP.
5. Khi dá»«ng vÃ  khá»Ÿi Ä‘á»™ng láº¡i instance:

   * IP khÃ´ng thay Ä‘á»•i â†’ báº¡n cÃ³ thá»ƒ tiáº¿p tá»¥c SSH báº±ng IP cÅ©.

#### 6. **GiÃ¡ vÃ  lÆ°u Ã½ khi dÃ¹ng Elastic IP**

* AWS **tÃ­nh phÃ­ khoáº£ng \$0.005/giá» (\~\$3.50/thÃ¡ng)** **cho má»—i Elastic IP**, **ngay cáº£ khi khÃ´ng dÃ¹ng** (náº¿u nÃ³ khÃ´ng gáº¯n vá»›i báº¥t ká»³ instance nÃ o).
* Báº¡n cÃ³ **750 giá» miá»…n phÃ­ má»—i thÃ¡ng** náº¿u sá»­ dá»¥ng trong má»©c miá»…n phÃ­.
* Äá»ƒ trÃ¡nh máº¥t tiá»n:

  * Gá»¡ Elastic IP khi khÃ´ng dÃ¹ng (Disassociate).
  * Sau Ä‘Ã³, **Release** Ä‘á»ƒ tráº£ láº¡i cho Amazon.

#### 7. **TÃ³m táº¯t lá»i khuyÃªn**

* âœ… DÃ¹ng **Elastic IP** náº¿u báº¡n cáº§n má»™t IP **cá»‘ Ä‘á»‹nh**.
* âŒ KhÃ´ng nÃªn giá»¯ Elastic IP náº¿u khÃ´ng dÃ¹ng Ä‘áº¿n â†’ sáº½ bá»‹ tÃ­nh phÃ­.
* ğŸ” Khi khÃ´ng cáº§n IP cá»‘ Ä‘á»‹nh, cá»© dÃ¹ng **public IP táº¡m thá»i** vÃ  gÃ¡n **DNS** (Route 53) Ä‘á»ƒ truy cáº­p dá»… hÆ¡n.
* ğŸ” Náº¿u cáº§n truy cáº­p báº±ng private IP â†’ hÃ£y thiáº¿t láº­p **VPN hoáº·c sá»­ dá»¥ng AWS Systems Manager Session Manager**.