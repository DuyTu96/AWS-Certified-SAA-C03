## ⚙️ **Hiệu suất mặc định (Baseline performance) của Amazon S3**

* **Amazon S3 tự động scale** lên số lượng request rất lớn.
* Thời gian phản hồi **First Byte** rất nhanh: **100–200 milliseconds**.
* Giới hạn mặc định (theo từng **prefix**) là:

  * **3,500 PUT/COPY/POST/DELETE requests/second/prefix**
  * **5,500 GET/HEAD requests/second/prefix**

---

## 📁 **Prefix là gì?**

* **Prefix** là phần đường dẫn nằm giữa **bucket** và **tên file**.

  * Ví dụ: `bucket/folder1/sub1/file` → prefix = `folder1/sub1`
* Mỗi **prefix** có giới hạn riêng, do đó:

  * Nếu phân tán file theo nhiều prefix, bạn có thể **tăng thông lượng tổng thể**.
  * Ví dụ có 4 prefix → có thể đạt **22,000 GET requests/second**

---

## 🚀 **Tối ưu hóa hiệu suất S3**

### 1. **Multi-Part Upload**

* Nên dùng khi file **>100MB**, bắt buộc với file **>5GB**
* Tăng tốc bằng cách chia file thành **nhiều phần nhỏ**, upload song song.
* Sau khi upload xong, S3 tự động **ghép lại thành file hoàn chỉnh**.

---

### 2. **S3 Transfer Acceleration**

* Tăng tốc độ upload/download bằng cách sử dụng **AWS Edge Location** gần người dùng.
* Dữ liệu sẽ đi từ client → **Edge Location** (rất nhanh) → **S3 bucket** qua **AWS private network** (cực kỳ nhanh).
* Hạn chế đi qua internet công cộng → **Tăng hiệu suất đáng kể**.
* **Tương thích với Multi-Part Upload**

---

### 3. **S3 Byte Range Fetches**

* Dùng để **tăng tốc download** bằng cách tải các **byte cụ thể** trong file.
* Lợi ích:

  * **Song song hóa việc tải** các phần của file → tải nhanh hơn.
  * **Retry từng phần nhỏ** nếu bị lỗi → tăng độ bền.
  * Lấy **một phần file** (ví dụ: header) mà không cần tải toàn bộ.

    * Ví dụ: chỉ lấy **50 byte đầu tiên** để đọc thông tin metadata.

---

## ✅ **Tổng kết**

* **Hiểu rõ giới hạn per-prefix** là rất quan trọng.
* Kết hợp các kỹ thuật như:

  * **Multi-Part Upload**
  * **Transfer Acceleration**
  * **Byte Range Fetches**
* Sẽ giúp bạn **tối ưu hóa tốc độ và độ bền** khi làm việc với **Amazon S3**.

---
