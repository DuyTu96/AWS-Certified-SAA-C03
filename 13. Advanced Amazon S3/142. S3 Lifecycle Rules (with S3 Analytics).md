## ğŸ”„ **Chuyá»ƒn Ä‘á»•i object giá»¯a cÃ¡c S3 Storage Class**

* **Diagram** minh há»a cÃ¡ch **chuyá»ƒn Ä‘á»•i giá»¯a cÃ¡c Storage Class**:

  * Tá»« `Standard` â†’ `Standard-IA` â†’ `Intelligent-Tiering` â†’ `One-Zone-IA`
  * Tá»« `One-Zone-IA` â†’ `Glacier Flexible Retrieval` hoáº·c `Glacier Deep Archive`
* Náº¿u object **Ã­t Ä‘Æ°á»£c truy cáº­p**, hÃ£y chuyá»ƒn sang `Standard-IA`.
* Náº¿u object cáº§n **lÆ°u trá»¯ lÃ¢u dÃ i**, hÃ£y chuyá»ƒn sang cÃ¡c tier **Glacier** hoáº·c **Deep Archive**.

---

## âš™ï¸ **Tá»± Ä‘á»™ng hÃ³a báº±ng Lifecycle Rule**

### 1. **Transition Action**

* DÃ¹ng Ä‘á»ƒ **chuyá»ƒn Ä‘á»•i Storage Class** theo thá»i gian.
* VÃ­ dá»¥:

  * Sau **60 ngÃ y**, chuyá»ƒn object sang `Standard-IA`.
  * Sau **6 thÃ¡ng**, chuyá»ƒn sang `Glacier`.

### 2. **Expiration Action**

* DÃ¹ng Ä‘á»ƒ **xÃ³a object** sau má»™t khoáº£ng thá»i gian.
* VÃ­ dá»¥:

  * XÃ³a **log files** sau **365 ngÃ y**.
  * XÃ³a cÃ¡c **object version cÅ©** (náº¿u báº­t versioning).
  * XÃ³a cÃ¡c **multi-part upload** chÆ°a hoÃ n táº¥t sau **14 ngÃ y**.

### 3. **Pháº¡m vi Ã¡p dá»¥ng Rule**

* Rule cÃ³ thá»ƒ Ã¡p dá»¥ng cho:

  * **ToÃ n bá»™ bucket**
  * **Prefix** cá»¥ thá»ƒ (vÃ­ dá»¥: `images/source/`)
  * **Object Tags** (vÃ­ dá»¥: tag `department=finance`)

---

## ğŸ§© **TÃ¬nh huá»‘ng thá»±c táº¿**

### ğŸ”¸ **TÃ¬nh huá»‘ng 1: Xá»­ lÃ½ áº£nh vÃ  thumbnail**

* á»¨ng dá»¥ng EC2 táº£i áº£nh gá»‘c vÃ  táº¡o thumbnail lÃªn S3.
* **áº¢nh gá»‘c**: LÆ°u á»Ÿ `Standard`, chuyá»ƒn sang `Glacier` sau **60 ngÃ y**.
* **Thumbnail**: LÆ°u á»Ÿ `One-Zone-IA`, xÃ³a sau **60 ngÃ y**.
* DÃ¹ng **prefix** Ä‘á»ƒ phÃ¢n biá»‡t (`source/` vs `thumbnail/`).

### ğŸ”¸ **TÃ¬nh huá»‘ng 2: Phá»¥c há»“i object Ä‘Ã£ xÃ³a**

* YÃªu cáº§u:

  * Trong **30 ngÃ y Ä‘áº§u**: Phá»¥c há»“i **ngay láº­p tá»©c**.
  * Sau Ä‘Ã³ **tá»‘i Ä‘a 365 ngÃ y**: Phá»¥c há»“i trong **vÃ²ng 48 giá»**.
* Giáº£i phÃ¡p:

  * Báº­t **S3 Versioning** â†’ Object xÃ³a Ä‘i chá»‰ táº¡o **delete marker**.
  * Táº¡o rule Ä‘á»ƒ:

    * Chuyá»ƒn **non-current versions** sang `Standard-IA`.
    * Sau Ä‘Ã³ tiáº¿p tá»¥c chuyá»ƒn sang `Glacier Deep Archive`.

---

## ğŸ“Š **Tá»‘i Æ°u hÃ³a Lifecycle Rule vá»›i S3 Analytics**

* **Amazon S3 Analytics** giÃºp xÃ¡c Ä‘á»‹nh **thá»i gian tá»‘i Æ°u** Ä‘á»ƒ chuyá»ƒn class.
* Cung cáº¥p **khuyáº¿n nghá»‹** giá»¯a `Standard` vÃ  `Standard-IA`.
* KhÃ´ng há»— trá»£ `One-Zone-IA` hoáº·c `Glacier`.
* Káº¿t quáº£ dáº¡ng **CSV Report**, cáº­p nháº­t **má»—i ngÃ y**.
* Máº¥t tá»« **24â€“48 giá»** Ä‘á»ƒ báº¯t Ä‘áº§u cÃ³ dá»¯ liá»‡u.
* DÃ¹ng report nÃ y Ä‘á»ƒ **xÃ¢y dá»±ng hoáº·c cáº£i tiáº¿n lifecycle rule**.

---

## âœ… **Tá»•ng káº¿t**

* Viá»‡c **chuyá»ƒn Ä‘á»•i Storage Class** giÃºp tá»‘i Æ°u **chi phÃ­ vÃ  hiá»‡u quáº£ lÆ°u trá»¯**.
* CÃ³ thá»ƒ thá»±c hiá»‡n **thá»§ cÃ´ng** hoáº·c **tá»± Ä‘á»™ng báº±ng Lifecycle Rule**.
* **S3 Versioning** vÃ  **Analytics** lÃ  cÃ´ng cá»¥ máº¡nh giÃºp quáº£n lÃ½ dá»¯ liá»‡u tá»‘t hÆ¡n.
* LuÃ´n Ã¡p dá»¥ng cÃ¡c rule theo **prefix** hoáº·c **tags** Ä‘á»ƒ phÃ¢n loáº¡i dá»¯ liá»‡u chÃ­nh xÃ¡c.

---
