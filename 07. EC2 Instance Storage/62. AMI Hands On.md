# 62. AMI Hands On

## ğŸ§ª **Thá»±c hÃ nh sá»­ dá»¥ng AMI trÃªn EC2**

### 1. **Khá»Ÿi táº¡o EC2 Instance Ä‘á»ƒ táº¡o AMI**

* **Báº¯t Ä‘áº§u** báº±ng cÃ¡ch **launch má»™t EC2 instance**.
* Chá»n **Amazon Linux 2**, loáº¡i mÃ¡y **t2.micro**, dÃ¹ng key pair tÃ¹y Ã½.
* Trong pháº§n **User Data**, chá»‰ sá»­ dá»¥ng **4 dÃ²ng Ä‘áº§u tiÃªn** trong script:

  * Script nÃ y sáº½ **cÃ i Ä‘áº·t HTTPD (Apache Web Server)**.
  * **KhÃ´ng bao gá»“m dÃ²ng táº¡o index.html** â†’ má»¥c Ä‘Ã­ch lÃ  **táº¡o AMI sau khi Ä‘Ã£ cÃ i Apache**, chÆ°a táº¡o ná»™i dung.

### 2. **Chá» EC2 khá»Ÿi cháº¡y vÃ  cháº¡y xong user-data**

* Máº·c dÃ¹ tráº¡ng thÃ¡i hiá»ƒn thá»‹ lÃ  â€œrunningâ€, **EC2 cáº§n thá»i gian Ä‘á»ƒ cháº¡y script cÃ i Ä‘áº·t HTTPD**.
* **KhÃ´ng nÃªn truy cáº­p ngay**, cáº§n **chá» 1-2 phÃºt** Ä‘á»ƒ Apache hoáº¡t Ä‘á»™ng.

### 3. **Kiá»ƒm tra trang web máº·c Ä‘á»‹nh Apache**

* Sau vÃ i phÃºt, khi truy cáº­p báº±ng **HTTP vÃ o Public IPv4**, sáº½ tháº¥y **trang test máº·c Ä‘á»‹nh cá»§a Apache**.
* Khi tháº¥y trang nÃ y â†’ cÃ³ thá»ƒ **táº¡o AMI tá»« instance nÃ y**.

---

## ğŸ› ï¸ **Táº¡o AMI tá»« EC2 Instance**

* Chuá»™t pháº£i vÃ o instance â†’ **Image and templates â†’ Create image**.
* Äáº·t tÃªn, vÃ­ dá»¥: `demo image`.
* Nháº¥n **Create image** Ä‘á»ƒ báº¯t Ä‘áº§u quÃ¡ trÃ¬nh táº¡o **AMI tÃ¹y biáº¿n (Custom AMI)**.
* Tráº¡ng thÃ¡i ban Ä‘áº§u sáº½ lÃ  **pending**, sau Ä‘Ã³ chuyá»ƒn sang **available** khi táº¡o xong.

---

## ğŸš€ **Khá»Ÿi táº¡o EC2 má»›i tá»« AMI**

* VÃ o pháº§n táº¡o instance â†’ chá»n **From AMI** â†’ tab **My AMIs** â†’ chá»n `demo image`.
* Trong pháº§n **User Data**, láº§n nÃ y **chá»‰ cáº§n táº¡o index.html** vÃ¬ HTTPD Ä‘Ã£ Ä‘Æ°á»£c cÃ i sáºµn:

  * DÃ¡n **3 dÃ²ng Ä‘áº§u hash (#)** vÃ  **dÃ²ng cuá»‘i cÃ¹ng (echo â€œHello Worldâ€ vÃ o index.html)**.
* Do **AMI Ä‘Ã£ chá»©a Apache**, nÃªn thá»i gian khá»Ÿi Ä‘á»™ng vÃ  sáºµn sÃ ng sáº½ **nhanh hÆ¡n ráº¥t nhiá»u**.

---

## âœ… **Káº¿t quáº£**

* Truy cáº­p vÃ o **public IP**, báº¡n sáº½ tháº¥y dÃ²ng "Hello World".
* Tá»‘c Ä‘á»™ nhanh hÆ¡n Ä‘Ã¡ng ká»ƒ vÃ¬ khÃ´ng cáº§n cÃ i Ä‘áº·t láº¡i HTTPD.
* ÄÃ¢y lÃ  **lá»£i Ã­ch lá»›n cá»§a viá»‡c sá»­ dá»¥ng AMI**:

  * CÃ i sáºµn pháº§n má»m, báº£o máº­t, cáº¥u hÃ¬nh,...
  * TÄƒng tá»‘c **boot time** vÃ  **triá»ƒn khai hÃ ng loáº¡t** dá»… dÃ ng.

---

### ğŸ”š **Káº¿t thÃºc demo**

* Sau khi hoÃ n táº¥t, cÃ³ thá»ƒ **terminate hai instance** Ä‘Ã£ dÃ¹ng trong bÃ i thá»±c hÃ nh.

---

